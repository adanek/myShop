<section class="myshop-products">

  <myshop-category-select active-category="activeCategory"></myshop-category-select>


  <section class="products">
    <header>{{ caption }}</header>
    <section class="product" ng-repeat="product in products">

      <header>{{ product.title }}</header>

      <section class="product-details" ng-controller="PanelCtrl as panel">

        <ul class="nav nav-pills">
          <li ng-class="{active:panel.isSelected(1)}"><a href ng-click="panel.selectTab(1)">Description</a></li>
          <li ng-class="{active:panel.isSelected(2)}"><a href ng-click="panel.selectTab(2)">Reviews</a></li>
        </ul>

        <section class="product-description" ng-show="panel.isSelected(1)">
          <p>{{ product.description }}</p>
        </section>


        <section class="product-comments" ng-show="panel.isSelected(2)"
                 ng-controller="CommentCtrl as commentCtrl">

          <section class="comment-list">
            <blockquote ng-repeat="comment in comments">
              {{ comment.content }}
              <footer>{{ comment.author }} am {{ comment.creationDate | date : 'dd. MMMM yyyy'}}</footer>
            </blockquote>
          </section>

          <section class="comment-creation" ng-show="enableCreation">
            <button ng-class="{hidden:commentCtrl.formVisible}"
                    class="btn btn-default"
                    ng-click="commentCtrl.showForm()">
              Kommentar hinterlassen
            </button>

            <form name="commentForm" novalidate ng-show="commentCtrl.formVisible" ng-submit="commentCtrl.addComment()">

              <div class="form-group" show-errors>
                <label for="comment">Kommentar:</label>
              <textarea class="form-control" id="comment" name="comment" ng-model="comment.content"
                        placeholder="Schreib hier deinen Kommentar hin und drÃ¼cke dannach auf Speichern"
                        required></textarea>

                <div class="help-block">Kommentar ist notwendig</div>
              </div>

              <div class="form-group">
                <input type="submit" value="Speichern" class="form-control">
              </div>
            </form>
          </section>

        </section>

        <hr>
      </section>

    </section>
  </section>
</section>


